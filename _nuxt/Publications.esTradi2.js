import{y as C,Q as p,I as f,o as d,c as g,a as r,ag as h,ai as V,ah as L,F as k,r as I,j as y,i as j,p as B,e as N,aj as F,_ as M}from"./entry.zjloayXd.js";import{_ as T}from"./Publication.vue.OjOttm9W.js";import{_ as U}from"./Pagination.vue._XxokY7s.js";import"./nuxt-link.TZqjXMry.js";import"./AbstractAccordion.tc0zHqWO.js";const x=l=>(B("data-v-d3f70b9a"),l=l(),N(),l),$={class:"publications"},A={class:"header rvt-flex rvt-ts-xs rvt-items-center rvt-justify-space-between"},D={class:"search"},E=x(()=>r("label",{for:"search",class:"rvt-label rvt-sr-only"},"Search",-1)),J={class:"sort rvt-flex rvt-items-center"},K=x(()=>r("label",{for:"sort-by",class:"rvt-label rvt-text-uppercase rvt-text-medium w-100"},"Sort By:",-1)),Q=F('<option disabled value="" data-v-d3f70b9a>Select a Field</option><option value="title" data-v-d3f70b9a>Title</option><option value="author" data-v-d3f70b9a>Author</option><option value="journal" data-v-d3f70b9a>Journal</option><option value="year" data-v-d3f70b9a>Year</option>',5),Y=[Q],q=C({__name:"Publications",props:{perPage:{type:Number,default:5},pubs:{type:Array,default:()=>[]}},setup(l){const c=l,v=p(1),m=p(null),u=p(""),n=p(""),i=f(()=>{let a=c.pubs;if(u.value){const e=u.value.toLowerCase();a=a.filter(t=>{var s,o,_,b;return((s=t.title)==null?void 0:s.toLowerCase().includes(e))||((o=t.author)==null?void 0:o.toLowerCase().includes(e))||((_=t.journal)==null?void 0:_.toLowerCase().includes(e))||((b=t.year)==null?void 0:b.toString().includes(e))})}return n.value&&(a=[...a].sort((e,t)=>{const s=e[n.value],o=t[n.value];return typeof s=="string"&&typeof o=="string"?s.localeCompare(o):typeof s=="number"&&typeof o=="number"?s-o:s.toString().localeCompare(o.toString())})),a}),S=f(()=>{var a;return Math.ceil(((a=i.value)==null?void 0:a.length)/c.perPage)}),w=f(()=>{var t;const a=(v.value-1)*c.perPage,e=a+c.perPage;return(t=i==null?void 0:i.value)==null?void 0:t.slice(a,e)}),P=a=>{var e;v.value=a,(e=m.value)==null||e.scrollIntoView()};return(a,e)=>(d(),g("div",$,[r("div",A,[r("div",D,[E,h(r("input",{id:"search","onUpdate:modelValue":e[0]||(e[0]=t=>u.value=t),type:"text",class:"rvt-text-input rvt-c-input",placeholder:"Search"},null,512),[[V,u.value]])]),r("div",J,[K,h(r("select",{id:"sort-by","onUpdate:modelValue":e[1]||(e[1]=t=>n.value=t),class:"rvt-select rvt-c-select w-100"},Y,512),[[L,n.value]])])]),r("div",{ref_key:"pubsList",ref:m,class:"publications-list rvt-p-tb-lg"},[(d(!0),g(k,null,I(w.value,(t,s)=>(d(),y(T,{key:s,pub:t},null,8,["pub"]))),128)),l.pubs.length>l.perPage?(d(),y(U,{key:0,"total-pages":S.value,"current-page":v.value,"onUpdate:currentPage":P},null,8,["total-pages","current-page"])):j("",!0)],512)]))}}),W=M(q,[["__scopeId","data-v-d3f70b9a"]]);export{W as default};
